<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function promise1(flag){
            return new Promise(function(resolve,reject){
                if(flag) {
                    resolve(`promise상태는 fulfulled!!, then으로 연결됩니다. \n 이때의 flag가 true입니다`)
                } else{
                    reject(`promise상태는 rejected!!, catch로 연결됩니다. \n 이때의 flag는 false입니다`)
                }
            });
        }
        //then에는 성공한것
            promise1(false)
                .then(function(result){
                    console.log(result);
                }).catch(function(err){
                    console.log(err);
                });
            //promise 사용
            function goMart(){
                console.log(`마트에 가서 어떤 음표 살지 고민한다.`);
            };
            function pickDrink(){
                return new Promise((resolve,reject) => {
                    setTimeout(() => {
                        console.log(`고민 끝`);
                        product = '제로 콜라';
                        price = 2000;
                        resolve();
                    }, 2000);
                });
            }

            function pay() {
                console.log(`상품명:${product}, 가격: ${price}`);
            }

            let product;
            let price;
            // goMart();
            // pickDrink().then(pay);

            async function exec(){
                goMart()
                await pickDrink();
                pay();
            }
            exec();
            
    </script>
</body>
</html>